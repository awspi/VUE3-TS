# 01_Learn_Vue3

# Vue ç®€ä»‹



## Vue å®‰è£…

### CDNå¼•å…¥

> ### **ä»€ä¹ˆæ˜¯CDNå‘¢?**
>
> CDNç§°ä¹‹ä¸ºå†…å®¹åˆ†å‘ç½‘ç»œ(**C**ontent **D**elivery **N**etworkæˆ–**C**ontent **D**istribution **N**etworkï¼Œç¼©å†™:**CDN**)
>
> å®ƒæ˜¯æŒ‡é€šè¿‡**ç›¸äº’è¿æ¥çš„ç½‘ç»œç³»ç»Ÿ**ï¼Œ**åˆ©ç”¨æœ€é è¿‘æ¯ä¸ªç”¨æˆ·çš„æœåŠ¡å™¨;**
>
> æ›´å¿«ã€æ›´å¯é åœ°å°†éŸ³ä¹ã€å›¾ç‰‡ã€è§†é¢‘ã€åº”ç”¨ç¨‹åºåŠå…¶ä»–æ–‡ä»¶**å‘é€ç»™ç”¨æˆ·;** 
>
> æ¥æä¾›**é«˜æ€§èƒ½ã€å¯æ‰©å±•æ€§åŠä½æˆæœ¬**çš„ç½‘ç»œå†…å®¹ä¼ é€’ç»™ç”¨æˆ·;
>
> **å¸¸ç”¨çš„CDNæœåŠ¡å™¨å¯ä»¥å¤§è‡´åˆ†ä¸ºä¸¤ç§:**
>
> è‡ªå·±çš„CDNæœåŠ¡å™¨:éœ€è¦è´­ä¹°è‡ªå·±çš„CDNæœåŠ¡å™¨
>
> å¼€æºçš„CDNæœåŠ¡å™¨:å›½é™…ä¸Šä½¿ç”¨æ¯”è¾ƒå¤šçš„æ˜¯unpkgã€ JSDelivrã€cdnjs;

**Vueçš„CDNå¼•å…¥:**

`<script src="https://unpkg.com/vue@next"></script>`



### ä¸‹è½½å’Œå¼•å…¥

ä¸‹è½½Vueçš„æºç ,é€šè¿‡scriptæ ‡ç­¾å¼•å…¥

- å¼€å‘ç¯å¢ƒï¼šhttps://vuejs.org/js/vue.js
- ç”Ÿäº§ç¯å¢ƒï¼šhttps://vuejs.org/js/vue.min.js

```html
<script src="../js/vue.js"></script>
```

# Vue åˆä½“éªŒ

ä½¿ç”¨createAppä¼ å…¥äº†**ä¸€ä¸ªå¯¹è±¡**ä¸­å£°æ˜éœ€è¦çš„å†…å®¹ï¼Œæ¨¡æ¿templateã€æ•°æ®dataã€æ–¹æ³•methods; 

è¿™æ ·çš„ç¼–å†™ä»£ç çš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºæ˜¯*å£°æ˜å¼ç¼–ç¨‹;*

æ¥ä¸‹æ¥æˆ‘ä»¬è¯¦ç»†è§£æä¸€ä¸‹ä¹‹å‰ä¼ å…¥çš„å±æ€§åˆ†åˆ«ä»£è¡¨ä»€ä¹ˆå«ä¹‰

## templateå±æ€§

è¡¨ç¤ºçš„æ˜¯Vueéœ€è¦å¸®åŠ©æˆ‘ä»¬æ¸²æŸ“çš„**æ¨¡æ¿ä¿¡æ¯:**

ç›®å‰æˆ‘ä»¬çœ‹åˆ°å®ƒé‡Œé¢æœ‰å¾ˆå¤šçš„HTMLæ ‡ç­¾ï¼Œè¿™äº›æ ‡ç­¾ä¼š**æ›¿æ¢**æ‰æˆ‘ä»¬æŒ‚è½½åˆ°çš„å…ƒç´ (æ¯”å¦‚idä¸ºappçš„div)çš„**innerHTML**;

æ¨¡æ¿ä¸­æœ‰ä¸€äº›å¥‡æ€ªçš„è¯­æ³•ï¼Œæ¯”å¦‚ {{}}ï¼Œæ¯”å¦‚ @clickï¼Œè¿™äº›éƒ½æ˜¯æ¨¡æ¿ç‰¹æœ‰çš„è¯­æ³•ï¼Œæˆ‘ä»¬ä¼šåœ¨åé¢è®²åˆ°;**Mustache**

**å†™æ³•:**

1. ä½¿ç”¨**scriptæ ‡ç­¾**ï¼Œå¹¶ä¸”**æ ‡è®°å®ƒçš„ç±»å‹ä¸º x-template**;**è®¾ç½®id**;
2. ä½¿ç”¨ä»»æ„æ ‡ç­¾(é€šå¸¸ä½¿ç”¨**templateæ ‡ç­¾**ï¼Œå› ä¸ºä¸ä¼šè¢«æµè§ˆå™¨æ¸²æŸ“)ï¼Œ**è®¾ç½®id**;
   - **template**å…ƒç´ æ˜¯ä¸€ç§ç”¨äºä¿å­˜å®¢æˆ·ç«¯å†…å®¹çš„æœºåˆ¶ï¼Œè¯¥**å†…å®¹åœ¨åŠ è½½é¡µé¢æ—¶ä¸ä¼šè¢«å‘ˆç°**ï¼Œä½†éšåå¯ä»¥åœ¨è¿è¡Œæ—¶ä½¿ç”¨JavaScriptå®ä¾‹åŒ–;

ç„¶å**`vue.createApp({template:'#id'})`**åœ¨createAppçš„å¯¹è±¡ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä¼ å…¥çš„templateä»¥ # å¼€å¤´:

- å¦‚æœå­—ç¬¦ä¸²æ˜¯ä»¥ # å¼€å§‹ï¼Œé‚£ä¹ˆå®ƒå°†è¢«ç”¨ä½œ querySelectorï¼Œå¹¶ä¸”ä½¿ç”¨åŒ¹é…å…ƒç´ çš„ innerHTML ä½œä¸º**æ¨¡æ¿å­—ç¬¦ä¸²**;

```html
<script type="x-template" id="why">
    <div>
      <h2>{{message}}</h2>
      <h2>{{counter}}</h2>
      <button @click='increment'>+1</button>
      <button @click='decrement'>-1</button>
  </div>
</script>
<script>
    document.querySelector("#why")
    Vue.createApp({
      template:'#why' //   ç›¸å½“äºdocument.querySelector("#why")
      //...
    })
</script>
```

```html
  <template id="why">
    <div>
      <h2>{{message}}</h2>
      <h2>{{counter}}</h2>
      <button @click='increment'>+1</button>
      <button @click='decrement'>-1</button>
      <button @click="btnClick">æŒ‰é’®</button>
    </div>
  </template>
  <script>
    document.querySelector("#why")
    Vue.createApp({
      template:'#why' //   ç›¸å½“äºdocument.querySelector("#why")
      //...
    })
</script>
```

## dataå±æ€§

**dataå±æ€§**æ˜¯**ä¼ å…¥ä¸€ä¸ªå‡½æ•°**ï¼Œå¹¶ä¸”è¯¥**å‡½æ•°éœ€è¦è¿”å›ä¸€ä¸ªå¯¹è±¡**:

- åœ¨Vue2.xçš„æ—¶å€™ï¼Œä¹Ÿå¯ä»¥ä¼ å…¥ä¸€ä¸ªå¯¹è±¡(è™½ç„¶å®˜æ–¹æ¨èæ˜¯ä¸€ä¸ªå‡½æ•°);
- åœ¨Vue3.xçš„æ—¶å€™ï¼Œ**å¿…é¡»ä¼ å…¥ä¸€ä¸ªå‡½æ•°**ï¼Œå¦åˆ™å°±ä¼šç›´æ¥åœ¨æµè§ˆå™¨ä¸­æŠ¥é”™;

dataä¸­è¿”å›çš„å¯¹è±¡ä¼š**è¢«Vueçš„å“åº”å¼ç³»ç»ŸåŠ«æŒ**ï¼Œä¹‹åå¯¹**è¯¥å¯¹è±¡çš„ä¿®æ”¹æˆ–è€…è®¿é—®**éƒ½ä¼šåœ¨åŠ«æŒä¸­è¢«å¤„ç†

## methodså±æ€§

**methodså±æ€§**æ˜¯ä¸€ä¸ª**å¯¹è±¡**ï¼Œé€šå¸¸æˆ‘ä»¬ä¼š**åœ¨å¯¹è±¡ä¸­å®šä¹‰å¾ˆå¤šçš„æ–¹æ³•:** (ä¸èƒ½ä½¿ç”¨ç®­å¤´å‡½æ•°)å’Œthisç»‘å®šæœ‰å…³

è¿™äº›æ–¹æ³•å¯ä»¥**è¢«ç»‘å®šåˆ° template æ¨¡æ¿**ä¸­;

åœ¨è¯¥æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨**this**å…³é”®å­—æ¥**ç›´æ¥è®¿é—®åˆ°dataä¸­è¿”å›çš„å¯¹è±¡çš„å±æ€§;**

> Vueçš„æºç å½“ä¸­å°±æ˜¯å¯¹methodsä¸­çš„æ‰€æœ‰å‡½æ•°è¿›è¡Œäº†éå†ï¼Œå¹¶ä¸”é€šè¿‡bindç»‘å®šäº†this:
>
> ![image-20220612202805318](https://wsp-typora.oss-cn-hangzhou.aliyuncs.com/images/202207160426748.png)
>
> 

## å…¶ä»–å±æ€§

**propsä¼ å…¥å‚æ•°ã€computedè®¡ç®—å±æ€§ã€watchç›‘å¬å™¨ã€emitså‘å°„äº‹ä»¶ã€setupå‡½æ•°ã€ç”Ÿå‘½å‘¨æœŸå‡½æ•°** 





### æ¡ˆä¾‹-hello world

```js
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  
  <div id="app">
  </div>
	<!-- CDNå¼•å…¥ -->
  <script src="https://unpkg.com/vue@next"></script>
  <script>
    const obj = {
      template: '<h2>Hello World</h2>'
    }

    const app = Vue.createApp(obj);
    app.mount("#app")//mountæŒ‚è½½
  </script>

</body>
</html>
```



### æ¡ˆä¾‹-è®¡æ•°å™¨

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  
  <div id="app">å“ˆå“ˆå“ˆå“ˆå•Š</div>

  <script src="../js/vue.js"></script>
  <script>
    Vue.createApp({//æ¨¡ç‰ˆå­—ç¬¦ä¸²
      template: `
        <div>
          <h2>{{message}}</h2>
          <h2>{{counter}}</h2>
          <button @click='increment'>+1</button>
          <button @click='decrement'>-1</button>
        </div>
      `,
      data: function() {
        return {
          message: "Hello World",
          counter: 100
        }
      },
      // å®šä¹‰å„ç§å„æ ·çš„æ–¹æ³•
      methods: {
        increment() {
          console.log("ç‚¹å‡»äº†+1");
          this.counter++;
        },
        decrement() {
          console.log("ç‚¹å‡»äº†-1");
          this.counter--;
        }
      }
    }).mount('#app');
  </script>
</body>
</html>
```



## Vue ä¸­çš„ MVVM

[MVVMæ¡†æ¶ç†è§£åŠå…¶åŸç†å®ç°](https://segmentfault.com/a/1190000015895017)

![image-20220612182619560](https://wsp-typora.oss-cn-hangzhou.aliyuncs.com/images/202207160426886.png)

- **View å±‚**ï¼šè§†å›¾å±‚ï¼Œåœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œé€šå¸¸å°±æ˜¯ DOM å±‚ï¼Œä¸»è¦çš„ä½œç”¨æ˜¯ç»™ç”¨æˆ·å±•ç¤ºå„ç§ä¿¡æ¯
- **Model å±‚**ï¼šæ•°æ®å±‚ï¼Œæ•°æ®å¯èƒ½æ˜¯æˆ‘ä»¬å›ºå®šçš„æ­»æ•°æ®ï¼Œæ›´å¤šçš„æ˜¯æ¥è‡ªæˆ‘ä»¬æœåŠ¡å™¨ï¼Œä»ç½‘ç»œä¸Šè¯·æ±‚ä¸‹æ¥çš„æ•°æ®
- **VueModel å±‚**ï¼šè§†å›¾æ¨¡å‹å±‚ï¼Œè§†å›¾æ¨¡å‹å±‚æ˜¯ View å’Œ Model æ²Ÿé€šçš„æ¡¥æ¢ï¼Œ
  - ä¸€æ–¹é¢å®ç°äº† **Data Binding**ï¼ˆæ•°æ®ç»‘å®šï¼‰ï¼Œå°† Model çš„æ”¹å˜å®æ—¶çš„ååº”åˆ° View ä¸­ï¼Œ
  - å¦ä¸€æ–¹é¢å®ƒå®ç°äº† **DOM Listener**ï¼ˆDOMç›‘å¬ï¼‰ï¼Œå½“ DOM å‘ç”Ÿä¸€äº›äº‹ä»¶ï¼ˆç‚¹å‡»ã€æ»šåŠ¨ã€touch ç­‰ï¼‰æ—¶ï¼Œå¯ä»¥ç›‘å¬åˆ°ï¼Œå¹¶åœ¨éœ€è¦çš„æƒ…å†µä¸‹æ”¹å˜å¯¹åº”çš„ Data

### MVC å’Œ MVVM çš„åŒºåˆ«

[MVC å’Œ MVVM çš„åŒºåˆ«](https://www.jianshu.com/p/b0aab1ffad93)

**MVC**

![image-20220612183206712](https://wsp-typora.oss-cn-hangzhou.aliyuncs.com/images/202207160427654.png)

**MVVM**

![](https://wsp-typora.oss-cn-hangzhou.aliyuncs.com/images/202207160427120.png)



### Vue çš„ç”Ÿå‘½å‘¨æœŸ



![2](https://wsp-typora.oss-cn-hangzhou.aliyuncs.com/images/202207160427154.png)

# Vue åŸºç¡€è¯­æ³•

## æ¨¡æ¿è¯­æ³•

æ’å€¼ï¼šå°†å€¼æ’å…¥åˆ°æ¨¡æ¿çš„å†…å®¹ä¸­

 **Reactçš„å¼€å‘æ¨¡å¼:
**Reactä½¿ç”¨çš„jsxï¼Œæ‰€ä»¥å¯¹åº”çš„ä»£ç éƒ½æ˜¯ç¼–å†™çš„ç±»ä¼¼äºjsçš„ä¸€ç§è¯­æ³•; 

ä¹‹åé€šè¿‡Babelå°†jsxç¼–è¯‘æˆ React.createElement å‡½æ•°è°ƒç”¨;

**Vueä¹Ÿæ”¯æŒjsxçš„å¼€å‘æ¨¡å¼**

ä½†æ˜¯å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½¿ç”¨**åŸºäºHTMLçš„æ¨¡æ¿è¯­æ³•;**

- åœ¨æ¨¡æ¿ä¸­ï¼Œå…è®¸å¼€å‘è€…**ä»¥å£°æ˜å¼**çš„æ–¹å¼å°†**DOM**å’Œ**åº•å±‚ç»„ä»¶å®ä¾‹çš„æ•°æ®** **ç»‘å®šåœ¨ä¸€èµ·;**
- **åœ¨åº•å±‚çš„å®ç°ä¸­ï¼ŒVueå°†æ¨¡æ¿ç¼–è¯‘æˆè™šæ‹ŸDOMæ¸²æŸ“å‡½æ•°**

### Mustache

 **â€œMustacheâ€è¯­æ³• (åŒå¤§æ‹¬å·)** çš„æ–‡æœ¬æ’å€¼æŠŠæ•°æ®æ˜¾ç¤ºåˆ°æ¨¡æ¿(template)ä¸­

- **dataè¿”å›çš„å¯¹è±¡è¢«æ·»åŠ åˆ°Vueçš„å“åº”å¼ç³»ç»Ÿä¸­;**
- å½“dataä¸­çš„**æ•°æ®å‘ç”Ÿæ”¹å˜**æ—¶ï¼Œ**å¯¹åº”çš„å†…å®¹ä¹Ÿä¼šå‘ç”Ÿæ›´æ–°ã€‚**
- Mustacheä¸­ä¸ä»…ä»…å¯ä»¥æ˜¯**dataä¸­çš„å±æ€§**ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ª**JSçš„è¡¨è¾¾å¼ã€‚** **ä¸å¯ä»¥å†™èµ‹å€¼è¯­å¥**

```html
	<div id="app"></div>

  <template id="my-app">
    <!-- 1.mustacheçš„åŸºæœ¬ä½¿ç”¨ -->
    <h2>{{message}} - {{message}}</h2>

    <!-- 2.æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ -->
    <h2>{{counter * 10}}</h2>
    <h2>{{ message.split(" ").reverse().join(" ") }}</h2>

    <!-- 3.ä¹Ÿå¯ä»¥è°ƒç”¨å‡½æ•° -->
    <!-- å¯ä»¥ä½¿ç”¨computed(è®¡ç®—å±æ€§) -->
    <h2>{{getReverseMessage()}}</h2>

    <!-- 4.ä¸‰å…ƒè¿ç®—ç¬¦ -->
    <h2>{{ isShow ? "å“ˆå“ˆå“ˆ": "" }}</h2>
    <button @click="toggle">åˆ‡æ¢</button>

    <!-- é”™è¯¯ç”¨æ³• -->
    <!-- var name = "abc" -> èµ‹å€¼è¯­å¥ -->
    <!-- <h2>{{var name = "abc"}}</h2>
    <h2>{{ if(isShow) {  return "å“ˆå“ˆå“ˆ" } }}</h2> -->
  </template>

  <script src="../js/vue.js"></script>
  <script>
    const App = {
      template: '#my-app',
      data() {
        return {
          message: "Hello World",
          counter: 100,
          isShow: true
        }
      },
      methods: {
        getReverseMessage() {
          return this.message.split(" ").reverse().join(" ");
        },
        toggle() {
          this.isShow = !this.isShow;
        }
      }
    }
    Vue.createApp(App).mount('#app');
  </script>
```



### v-once

v-onceç”¨äº**æŒ‡å®šå…ƒç´ æˆ–è€…ç»„ä»¶åªæ¸²æŸ“ä¸€æ¬¡:**

- å½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œ**å…ƒç´ æˆ–è€…ç»„ä»¶**ä»¥åŠå…¶**æ‰€æœ‰çš„å­å…ƒç´ **å°†è§†ä¸º**é™æ€å†…å®¹å¹¶ä¸”è·³è¿‡;**
- è¯¥æŒ‡ä»¤å¯ä»¥ç”¨äº**æ€§èƒ½ä¼˜åŒ–;**

```html
  <div id="app"></div>
  <template id="my-app">
    <h2>{{counter}}</h2>
    <div v-once>
      <h2>{{counter}}</h2>
      <h2>{{message}}</h2>
    </div>
    <button @click="increment">+1</button>
  </template>
  
  <script src="../js/vue.js"></script>
  
  <script>
    const App = {
      template: '#my-app',
      data() {
        return {
          counter: 100,
          message: "abc"
        }
      },
      methods: {
        increment() {
          this.counter++;
        }
      }
    }
    Vue.createApp(App).mount('#app');
  </script>
```



### v-text

v-textç”¨äº**æ›´æ–°å…ƒç´ çš„textConten**t **ä¸å¸¸ç”¨ ä¸€èˆ¬ä½¿ç”¨Mustache**

```html
  	<div id="app"></div>

  <template id="my-app">
    <h2 v-text="message"></h2>
    <h2>{{message}}</h2>
  </template>

  <script src="../js/vue.js"></script>
  <script>
    const App = {
      template: '#my-app',
      data() {
        return {
          message: "Hello World"
        }
      }
    }
    Vue.createApp(App).mount('#app');
  </script>
```

### v-html

é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœæˆ‘ä»¬å±•ç¤ºçš„**å†…å®¹æœ¬èº«æ˜¯ html** çš„ï¼Œé‚£ä¹ˆ**vueå¹¶ä¸ä¼šå¯¹å…¶è¿›è¡Œç‰¹æ®Šçš„è§£æã€‚**

å¦‚æœæˆ‘ä»¬å¸Œæœ›è¿™ä¸ªå†…å®¹**è¢«Vueå¯ä»¥è§£æå‡ºæ¥**ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ v-html æ¥å±•ç¤º;

```html
  <div id="app"></div>

  <template id="my-app">
    <div>{{msg}}</div><!--åªæ˜¯æ˜¾ç¤ºæ–‡æœ¬-->
    <div v-html="msg"></div><!--æŠŠhtmlè§£æå‡ºæ¥-->
  </template>

  <script src="../js/vue.js"></script>
  <script>
    const App = {
      template: '#my-app',
      data() {
        return {
          msg: '<span style="color:red; background: blue;">å“ˆå“ˆå“ˆ</span>' //å†…å®¹æœ¬èº«æ˜¯ html
        }
      }
    }

    Vue.createApp(App).mount('#app');
  </script>
```

<img src="https://wsp-typora.oss-cn-hangzhou.aliyuncs.com/images/202207160427465.png" alt="image-20220612211234377" style="zoom:67%;" />



###  v-pre

v-preç”¨äºè·³è¿‡å…ƒç´ å’Œå®ƒçš„å­å…ƒç´ çš„ç¼–è¯‘è¿‡ç¨‹ï¼Œ**æ˜¾ç¤ºåŸå§‹çš„Mustacheæ ‡ç­¾:**

- è·³è¿‡ä¸éœ€è¦ç¼–è¯‘çš„èŠ‚ç‚¹ï¼ŒåŠ å¿«ç¼–è¯‘çš„é€Ÿåº¦;

```html
  <div id="app"></div>

  <template id="my-app">
    <h2 v-pre>{{message}}</h2> <!--æ˜¾ç¤º{{message}}-->
  </template>

  <script src="../js/vue.js"></script>
  <script>
    const App = {
      template: '#my-app',
      data() {
        return {
          message: "Hello World"
        }
      }
    }

    Vue.createApp(App).mount('#app');
  </script>
```

### v-cloak

**cloaké®ç›–ç‰©** è¿™ä¸ªæŒ‡ä»¤ä¿æŒ**åœ¨å…ƒç´ ä¸Šç›´åˆ°å…³è”ç»„ä»¶å®ä¾‹ç»“æŸç¼–è¯‘ã€‚**

å’Œ CSS è§„åˆ™å¦‚ **`[v-cloak] { display: none }`** ä¸€èµ·ç”¨æ—¶ï¼Œè¿™ä¸ªæŒ‡ä»¤å¯ä»¥**éšè—æœªç¼–è¯‘çš„ Mustache æ ‡ç­¾ç›´åˆ°ç»„ä»¶å®ä¾‹å‡†å¤‡å®Œæ¯•ã€‚**é˜²æ­¢æ²¡æ¸²æŸ“å®Œæ˜¾ç¤ºåŸå§‹ç•Œé¢



## ç»‘å®šå±æ€§ v-bind

æ¨¡ç‰ˆè¯­æ³•çš„ä¸€ç³»åˆ—æŒ‡ä»¤ï¼Œä¸»è¦æ˜¯å°†å€¼æ’å…¥åˆ°**æ¨¡æ¿å†…å®¹**ä¸­ã€‚

ä½†æ˜¯ï¼Œé™¤äº†å†…å®¹éœ€è¦åŠ¨æ€æ¥å†³å®šå¤–ï¼ŒæŸäº›**å±æ€§**æˆ‘ä»¬ä¹Ÿå¸Œæœ›**åŠ¨æ€ç»‘å®š**ã€‚

- æ¯”å¦‚åŠ¨æ€ç»‘å®šaå…ƒç´ çš„hrefå±æ€§;
- æ¯”å¦‚åŠ¨æ€ç»‘å®šimgå…ƒç´ çš„srcå±æ€§; 

**å¯ä»¥ä½¿ç”¨ `v-bind` æŒ‡ä»¤æ¥åŠ¨æ€ç»‘å®šå±æ€§ï¼Œ`v-bind` ç”¨äºç»‘å®šä¸€ä¸ªæˆ–å¤šä¸ªå±æ€§å€¼ï¼Œæˆ–è€…å‘å¦ä¸€ä¸ªç»„ä»¶ä¼ é€’ propså€¼** 



### v-bind åŸºæœ¬ä½¿ç”¨

**ç¼©å†™**:å³çœç•¥ v-bindï¼Œç›´æ¥å†™ **`:`**

**ç”¨æ³•**:åŠ¨æ€åœ°ç»‘å®šä¸€ä¸ªæˆ–å¤šä¸ª attributeï¼Œæˆ–ä¸€ä¸ªç»„ä»¶ prop åˆ°è¡¨è¾¾å¼ã€‚

```html
<template id="my-app">
  <!-- 1.v-bindçš„åŸºæœ¬ä½¿ç”¨ -->
  <img v-bind:src="imgUrl" alt="">
  <a v-bind:href="link">ç™¾åº¦ä¸€ä¸‹</a>

  <!-- 2.v-bindæä¾›ä¸€ä¸ªè¯­æ³•ç³– : -->
  <img :src="imgUrl" alt="">
</template>
```

### v-bind:class 

**ç®€å†™`:class`**

**`v-bind:class`**ç»‘å®šclass

 åœ¨å¼€å‘ä¸­ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬çš„å…ƒç´ classä¹Ÿæ˜¯åŠ¨æ€çš„ï¼Œæ¯”å¦‚:

- å½“æ•°æ®ä¸ºæŸä¸ªçŠ¶æ€æ—¶ï¼Œå­—ä½“æ˜¾ç¤ºçº¢è‰²ã€‚
- å½“æ•°æ®å¦ä¸€ä¸ªçŠ¶æ€æ—¶ï¼Œå­—ä½“æ˜¾ç¤ºé»‘è‰²ã€‚

**ç»‘å®šclassæœ‰ä¸¤ç§æ–¹å¼:** 

- å¯¹è±¡è¯­æ³•
- æ•°ç»„è¯­æ³•

#### å¯¹è±¡è¯­æ³•

æˆ‘ä»¬å¯ä»¥ä¼ ç»™ **`:class`** (v-bind:classè¯­æ³•ç³–) ä¸€ä¸ªå¯¹è±¡ï¼Œä»¥åŠ¨æ€åœ°åˆ‡æ¢ classã€‚

![image-20220612222001423](https://wsp-typora.oss-cn-hangzhou.aliyuncs.com/images/202207160427071.png)

```html
    <style>
      .active {
        color: red;
      }
      .title {
        font-style:italic;
      }
    </style>
  <div id="app"></div>

    <template id="my-app">
      <!-- å¯¹è±¡è¯­æ³•: {className}  --> 
      <div :class="className">å“ˆå“ˆå“ˆå“ˆ</div>
      <!-- å¯¹è±¡è¯­æ³•: {'active': boolean}  --> 
      <!-- keyä¸ºclasså valueå¯ä»¥ç”¨boolenå€¼æ¥æ§åˆ¶æ˜¯å¦ç»‘å®šè¯¥class -->
      <!-- classåå¯ä»¥ä¸åŠ å¼•å· [ä¸ä¼š]å»å–åˆ°dataä¸­é‡åçš„keyçš„value -->
      <div :class="{active: true}">å‘µå‘µå‘µå‘µ</div>
      <button @click="toggle">åˆ‡æ¢</button>

      <!-- ä¹Ÿå¯ä»¥æœ‰å¤šä¸ªé”®å€¼å¯¹ -->
      <div :class="{active: isActive, title: true}"> 
        {{'isActive: '+isActive}}</div>

      <!-- é»˜è®¤çš„classå’ŒåŠ¨æ€çš„classç»“åˆ -->
      <div class="abc cba" :class="{active: isActive, title: true}">
      {{'isActive: '+isActive}}
      </div>

      <!-- å°†å¯¹è±¡æ”¾åˆ°ä¸€ä¸ªå•ç‹¬çš„å±æ€§ä¸­ -->
      <div class="abc cba" :class="classObj">
        {{classObj}}
      </div>

      <!-- å°†è¿”å›çš„å¯¹è±¡æ”¾åˆ°ä¸€ä¸ªmethods(computed)æ–¹æ³•ä¸­ -->
      <div class="abc cba" :class="getClassObj()">å‘µå‘µå‘µå‘µ</div>      
    </template>

    <script src="../js/vue.js"></script>
    <script>
      const App = {
        template: "#my-app",
        data() {
          return {
            className: "why",
            isActive: true,
            title: "abc",
            classObj: { 
              active: true, 
              title: true 
            },
          };
        },
        methods: {
          toggle() {
            this.isActive = !this.isActive;
          },
          getClassObj() { // è¿”å›ä¸€ä¸ªå¯¹è±¡
            return { 
              active: true, 
              title: true 
            }
          }
        },
      };

      Vue.createApp(App).mount("#app");
    </script>
```



#### æ•°ç»„è¯­æ³•

æˆ‘ä»¬å¯ä»¥æŠŠä¸€ä¸ªæ•°ç»„ä¼ ç»™ **`:class`**ï¼Œä»¥åº”ç”¨ä¸€ä¸ª class åˆ—è¡¨;

```html
  <template id="my-app">
    <!-- æ•°ç»„è¯­æ³• classNameè¦åŠ å¼•å·,å¦åˆ™ä¼šå–åˆ°dataä¸­é‡åçš„keyçš„value -->
    <div :class="['abc', title]">å“ˆå“ˆå“ˆå“ˆ</div>
    <!-- æ•°ç»„è¯­æ³•æ”¯æŒä¸‰å…ƒè¿ç®—ç¬¦ -->
    <div :class="['abc', title, isActive ? 'active': '']">å“ˆå“ˆå“ˆå“ˆ</div>
    <!-- æ•°ç»„è¯­æ³•å…è®¸ç»‘å®šå¯¹è±¡è¯­æ³•{} -->
    <div :class="['abc', title, {active: isActive}]">å“ˆå“ˆå“ˆå“ˆ</div>
  </template>
    <script src="../js/vue.js"></script>


  <script>
    const App = {
      template: '#my-app',
      data() {
        return {
          message: "Hello World",
          title: "cba",
          isActive: true
        }
      }
    }

    Vue.createApp(App).mount('#app');
  </script>
```



### v-bind:style

ä½¿ç”¨ **`v-bind:style`** æ¥ç»‘å®šä¸€äº› CSS å†…è”æ ·å¼

**ç®€å†™** **`:style`**

CSS property åå¯ä»¥ç”¨**é©¼å³°å¼ (camelCase)** æˆ–**çŸ­æ¨ªçº¿åˆ†éš” (kebab-case)åŠ å¼•å·** æ¥å‘½å;

#### å¯¹è±¡è¯­æ³•

```html
 <div id="app"></div>

  <template id="my-app">
    <!-- :style="{cssPropertyName: cssPropertyValue}" -->
    <div :style="{color: finalColor, 'font-size': '30px'}">å“ˆå“ˆå“ˆå“ˆ</div>
    <div :style="{color: finalColor, fontSize: '30px'}">å“ˆå“ˆå“ˆå“ˆ</div>
    <div :style="{color: finalColor, fontSize: finalFontSize + 'px'}">å“ˆå“ˆå“ˆå“ˆ</div>

    <!-- ç»‘å®šä¸€ä¸ªdataä¸­çš„å±æ€§å€¼, å¹¶ä¸”æ˜¯ä¸€ä¸ªå¯¹è±¡ -->
    <div :style="finalStyleObj">å‘µå‘µå‘µå‘µ</div>
    <!-- è°ƒç”¨ä¸€ä¸ªè¿”å›å¯¹è±¡çš„æ–¹æ³• -->
    <div :style="getFinalStyleObj()">å‘µå‘µå‘µå‘µ</div>
  </template>

  <script src="../js/vue.js"></script>
  <script>
    const App = {
      template: '#my-app',
      data() {
        return {
          message: "Hello World",
          finalColor: 'red',
          finalFontSize: 50,
          finalStyleObj: {
            'font-size': '50px',
            fontWeight: 700,
            backgroundColor: 'red'
          }
        }
      },
      methods: {
        getFinalStyleObj() {
          return {
            'font-size': '50px',
            fontWeight: 700,
            backgroundColor: 'red'
          }
        }
      }
    }

    Vue.createApp(App).mount('#app');
  </script>
```

#### æ•°ç»„è¯­æ³•

:style çš„æ•°ç»„è¯­æ³•å¯ä»¥**å°†å¤šä¸ªæ ·å¼å¯¹è±¡åº”ç”¨åˆ°åŒä¸€ä¸ªå…ƒç´ ä¸Š**;

```html
  
  <div id="app"></div>

  <template id="my-app">
    <!-- å°†å¤šä¸ªæ ·å¼å¯¹è±¡åº”ç”¨åˆ°åŒä¸€ä¸ªå…ƒç´ ä¸Š -->
    <div :style="[style1Obj, style2Obj]">å“ˆå“ˆå“ˆ</div>
  </template>

  <script src="../js/vue.js"></script>
  <script>
    const App = {
      template: '#my-app',
      data() {
        return {
          message: "Hello World",
          style1Obj: {
            color: 'red',
            fontSize: '30px'
          },
          style2Obj: {
            textDecoration: "underline"
          }
        }
      }
    }

    Vue.createApp(App).mount('#app');
  </script>
```



### :[å±æ€§å]="å€¼" åŠ¨æ€ç»‘å®šå±æ€§

åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬**å±æ€§çš„åç§°å¯èƒ½ä¹Ÿä¸æ˜¯å›ºå®š**çš„:

æˆ‘ä»¬æ— è®ºç»‘å®šsrcã€hrefã€classã€styleï¼Œå±æ€§åç§°éƒ½æ˜¯å›ºå®šçš„; 

**å¦‚æœå±æ€§åç§°ä¸æ˜¯å›ºå®šçš„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ åŠ¨æ€ç»‘å®šå±æ€§** 

**`:[å±æ€§å]=â€œå€¼â€` çš„æ ¼å¼æ¥å®šä¹‰;**

```html
     <style>
    .val{
      color: red;
    }
  </style>
   <style>
    .val{
      color: red;
    }
  </style>
 <div id="app"></div>

  <template id="my-app">
    <div :[name]="value">å“ˆå“ˆå“ˆ</div>
  </template>

  <script src="../js/vue.js"></script>
  <script>
    const App = {
      template: '#my-app',
      data() {
        return {
          name: "class",
          value: "val"
        }
      }
    }
    Vue.createApp(App).mount('#app');
  </script>
```

 **ä¹Ÿå¯ä»¥ç”¨æ¥ç»‘å®šclass src hrefç­‰**

![image-20220612230129711](https://wsp-typora.oss-cn-hangzhou.aliyuncs.com/images/202207160427685.png)





### **â€¼ï¸ ç»‘å®šä¸€ä¸ªå¯¹è±¡**

 å¦‚æœæˆ‘ä»¬å¸Œæœ›**å°†ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰å±æ€§ï¼Œç»‘å®šåˆ°å…ƒç´ ä¸Šçš„æ‰€æœ‰å±æ€§**ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ **v-bind ç»‘å®šä¸€ä¸ª å¯¹è±¡;**

- **å‘å¦ä¸€ä¸ªç»„ä»¶ä¼ é€’ propså€¼** 

![image-20220612231325820](https://wsp-typora.oss-cn-hangzhou.aliyuncs.com/images/202207160427576.png)

```html
  <div id="app"></div>

  <template id="my-app">
    <div v-bind="info">å“ˆå“ˆå“ˆå“ˆ</div>
    <div :="info">å“ˆå“ˆå“ˆå“ˆ</div>
  </template>

  <script src="../js/vue.js"></script>
  <script>
    const App = {
      template: '#my-app',
      data() {
        return {
          info: {
            name: "why",
            age: 18,
            height: 1.88
          }
        }
      }
    }

    Vue.createApp(App).mount('#app');
  </script>
```

## ç»‘å®šäº‹ä»¶ v-on

åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ç»å¸¸å’Œç”¨æˆ·è¿›è¡Œäº¤äº’ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå°±å¿…é¡»ç›‘å¬ç”¨æˆ·å‘ç”Ÿçš„äº‹ä»¶ï¼Œæ¯”å¦‚ç‚¹å‡»ã€æ‹–æ‹½ã€é”®ç›˜äº‹ä»¶ç­‰ï¼Œ

åœ¨ Vue ä¸­ç›‘å¬äº‹ä»¶ä½¿ç”¨ **`v-on`** æŒ‡ä»¤

### v-onåŸºæœ¬ä½¿ç”¨

```html
  <template id="my-app">
    <!-- å®Œæ•´å†™æ³•: v-on:ç›‘å¬çš„äº‹ä»¶="methodsä¸­æ–¹æ³•" -->
    <button v-on:click="btn1Click">æŒ‰é’®1</button>
    <div class="area" v-on:mousemove="mouseMove">div</div>
    <!-- è¯­æ³•ç³– -->
    <button @click="btn1Click">æŒ‰é’®1</button>
    <!-- ç»‘å®šä¸€ä¸ªè¡¨è¾¾å¼: inline statement -->
    <button @click="counter++">{{counter}}</button>
    <!-- ç»‘å®šä¸€ä¸ªå¯¹è±¡ -->
    <div class="area" v-on="{click: btn1Click, mousemove: mouseMove}"></div>
    <div class="area" @="{click: btn1Click, mousemove: mouseMove}"></div>
  </template>
```

### v-onå‚æ•°ä¼ é€’

å½“**é€šè¿‡methodsä¸­å®šä¹‰æ–¹æ³•**ï¼Œä»¥ä¾›**@click**è°ƒç”¨æ—¶ï¼Œéœ€è¦æ³¨æ„å‚æ•°é—®é¢˜:

1. **å¦‚æœè¯¥æ–¹æ³•ä¸éœ€è¦é¢å¤–å‚æ•°ï¼Œé‚£ä¹ˆæ–¹æ³•åçš„`()`å¯ä»¥ä¸æ·»åŠ ã€‚**
   - å¦‚æœ**æ–¹æ³•æœ¬èº«ä¸­æœ‰ä¸€ä¸ªå‚æ•°**ï¼Œé‚£ä¹ˆä¼šé»˜è®¤å°†åŸç”Ÿäº‹ä»¶**`eventå‚æ•°`**ä¼ é€’è¿›å»
2. å¦‚æœéœ€è¦**åŒæ—¶ä¼ å…¥æŸä¸ªå‚æ•°ï¼ŒåŒæ—¶éœ€è¦eventæ—¶**ï¼Œå¯ä»¥é€šè¿‡**`$event`**ä¼ å…¥äº‹ä»¶ã€‚

```html
  <template id="my-app">
    <!-- é»˜è®¤ä¼ å…¥eventå¯¹è±¡, å¯ä»¥åœ¨æ–¹æ³•ä¸­è·å– -->
    <button @click="btn1Click">æŒ‰é’®1</button>
    <!-- $eventå¯ä»¥è·å–åˆ°äº‹ä»¶å‘ç”Ÿæ—¶çš„äº‹ä»¶å¯¹è±¡ -->
    <button @click="btn2Click($event, 'coderwhy', 18)">æŒ‰é’®2</button>
  </template>

  <script src="../js/vue.js"></script>
  <script>
    const App = {
      template: '#my-app',
      data() {
        return {
          message: "Hello World"
        }
      },
      methods: {
        btn1Click(event) {
          console.log(event);
        },
        btn2Click(event, name, age) {
          console.log(name, age, event);
        }
      }
    }

    Vue.createApp(App).mount('#app');
  </script>
```



### v-onçš„ä¿®é¥°ç¬¦

v-onæ”¯æŒ**ä¿®é¥°ç¬¦**ï¼Œä¿®é¥°ç¬¦ç›¸å½“äºå¯¹äº‹ä»¶è¿›è¡Œäº†ä¸€äº›ç‰¹æ®Šçš„å¤„ç†:

**`.stop`** - è°ƒç”¨ event.stopPropagation() åœæ­¢å†’æ³¡

**`.prevent`** - è°ƒç”¨ event.preventDefault()ã€‚é˜»æ­¢é»˜è®¤è¡Œä¸º

**`.capture`** - æ·»åŠ äº‹ä»¶ä¾¦å¬å™¨æ—¶ä½¿ç”¨ capture æ¨¡å¼ã€‚

**`.self`** - åªå½“äº‹ä»¶æ˜¯ä»ä¾¦å¬å™¨ç»‘å®šçš„å…ƒç´ æœ¬èº«è§¦å‘æ—¶æ‰è§¦å‘å›è°ƒã€‚

**`.{keyAlias}`** - (@click.enter="")ä»…å½“äº‹ä»¶æ˜¯ä»ç‰¹å®šé”®è§¦å‘æ—¶æ‰è§¦å‘å›è°ƒã€‚

**`.once`** - åªè§¦å‘ä¸€æ¬¡å›è°ƒã€‚

**`.left`** - åªå½“ç‚¹å‡»é¼ æ ‡å·¦é”®æ—¶è§¦å‘ã€‚**`.right`** - åªå½“ç‚¹å‡»é¼ æ ‡å³é”®æ—¶è§¦å‘ã€‚**`.middle`** - åªå½“ç‚¹å‡»é¼ æ ‡ä¸­é”®æ—¶è§¦å‘ã€‚

**`.passive`** - { passive: true } æ¨¡å¼æ·»åŠ ä¾¦å¬å™¨

```vue
  <template id="my-app">
    <div @click="divClick">
      <button @click.stop="btnClick">æŒ‰é’®</button>
    </div>
    <input type="text" @keyup.enter="enterKeyup">
  </template>
```



## æ¡ä»¶æ¸²æŸ“

åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®å½“å‰çš„æ¡ä»¶å†³å®šæŸäº›å…ƒç´ æˆ–ç»„ä»¶æ˜¯å¦æ¸²æŸ“ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±éœ€è¦è¿›è¡Œæ¡ä»¶åˆ¤æ–­äº†ã€‚

### v-ifã€v-elseã€v-else-if

v-ifã€v-elseã€v-else-ifç”¨äºæ ¹æ®æ¡ä»¶æ¥æ¸²æŸ“æŸä¸€å—çš„å†…å®¹**,è¿™äº›å†…å®¹åªæœ‰åœ¨æ¡ä»¶ä¸ºtrueæ—¶ï¼Œæ‰ä¼šè¢«æ¸²æŸ“å‡ºæ¥;**

v-ifçš„æ¸²æŸ“åŸç†:

- v-ifæ˜¯æƒ°æ€§çš„;
- å½“æ¡ä»¶ä¸ºfalseæ—¶ï¼Œå…¶åˆ¤æ–­çš„å†…å®¹**å®Œå…¨ä¸ä¼šè¢«æ¸²æŸ“**æˆ–è€…ä¼š**è¢«é”€æ¯æ‰;**
- å½“æ¡ä»¶ä¸ºtrueæ—¶ï¼Œæ‰ä¼šçœŸæ­£æ¸²æŸ“æ¡ä»¶å—ä¸­çš„å†…å®¹;

```html
  <template id="my-app">
    <h2 v-if="isShow">å“ˆå“ˆå“ˆå“ˆ</h2>
    <button @click="toggle">åˆ‡æ¢</button>
  </template>
  <script>
    const App = {
      template: '#my-app',
      data() {
        return {
          message: "Hello World",
          isShow: true
        }
      },
      methods: {
        toggle() {
          this.isShow = !this.isShow;
        }
      }
    }

    Vue.createApp(App).mount('#app');

  </script>
```

```html
  <template id="my-app">
    <input type="text" v-model="score">
    <h2 v-if="score > 90">ä¼˜ç§€</h2>
    <h2 v-else-if="score > 60">è‰¯å¥½</h2>
    <h2 v-else>ä¸åŠæ ¼</h2>
  </template>
  <script>
    const App = {
      template: '#my-app',
      data() {
        return {
          score: 95
        }
      }
    }
    Vue.createApp(App).mount('#app');
  </script>
```

#### ç»“åˆtemplateå…ƒç´ 

 templateå…ƒç´ å¯ä»¥å½“åšä¸å¯è§çš„åŒ…è£¹å…ƒç´ ï¼Œå¹¶ä¸”åœ¨v-ifä¸Šä½¿ç”¨ï¼Œä½†æ˜¯æœ€ç»ˆtemplateä¸ä¼šè¢«æ¸²æŸ“å‡ºæ¥:

```html
  <template id="my-app">
    <template v-if="isShowHa">
      <h2>å“ˆå“ˆå“ˆå“ˆ</h2>
      <h2>å“ˆå“ˆå“ˆå“ˆ</h2>
      <h2>å“ˆå“ˆå“ˆå“ˆ</h2>
    </template>

    <template v-else>
      <h2>å‘µå‘µå‘µå‘µ</h2>
      <h2>å‘µå‘µå‘µå‘µ</h2>
      <h2>å‘µå‘µå‘µå‘µ</h2>
    </template>
  </template>
```



### v-show

v-showå’Œv-ifçš„ç”¨æ³•çœ‹èµ·æ¥æ˜¯ä¸€è‡´çš„ï¼Œä¹Ÿæ˜¯æ ¹æ®ä¸€ä¸ªæ¡ä»¶å†³å®šæ˜¯å¦æ˜¾ç¤ºå…ƒç´ æˆ–è€…ç»„ä»¶:

- **é€šè¿‡CSSçš„displayå±æ€§**æ¥è¿›è¡Œåˆ‡æ¢;

```html
  <template id="my-app">
    <h2 v-show="isShow">å“ˆå“ˆå“ˆå“ˆ</h2>
  </template>
```

#### ğŸ·ï¸**v-showå’Œv-ifçš„åŒºåˆ«**

ç”¨æ³•ä¸Šçš„åŒºåˆ«:

- v-showæ˜¯**ä¸æ”¯æŒtemplate;**
- v-show**ä¸å¯ä»¥å’Œv-elseä¸€èµ·ä½¿ç”¨;**

æœ¬è´¨çš„åŒºåˆ«:

- **v-show**å…ƒç´ æ— è®ºæ˜¯true falseï¼Œå®ƒçš„**DOMå®é™…éƒ½æ˜¯æœ‰æ¸²æŸ“**çš„ï¼Œåªæ˜¯**é€šè¿‡CSSçš„displayå±æ€§**æ¥è¿›è¡Œåˆ‡æ¢;
- **v-if**å½“æ¡ä»¶ä¸ºfalseæ—¶ï¼Œå…¶å¯¹åº”çš„å…ƒç´ å‹æ ¹**ä¸ä¼šè¢«æ¸²æŸ“åˆ°DOMä¸­;**

å¦‚æœæˆ‘ä»¬çš„å…ƒç´ éœ€è¦**åœ¨æ˜¾ç¤ºå’Œéšè—ä¹‹é—´é¢‘ç¹çš„åˆ‡æ¢ï¼Œé‚£ä¹ˆä½¿ç”¨v-show;** 

**å¦‚æœä¸ä¼šé¢‘ç¹çš„å‘ç”Ÿåˆ‡æ¢ï¼Œé‚£ä¹ˆä½¿ç”¨v-if;**



## åˆ—è¡¨æ¸²æŸ“v-for

çœŸå®å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€ä¼šä»æœåŠ¡å™¨æ‹¿åˆ°ä¸€ç»„æ•°æ®ï¼Œå¹¶ä¸”éœ€è¦å¯¹å…¶è¿›è¡Œæ¸²æŸ“ã€‚å¯ä»¥ä½¿ç”¨**v-for**æ¥å®Œæˆ;

### v-foråŸºæœ¬ä½¿ç”¨

v-forçš„åŸºæœ¬æ ¼å¼æ˜¯ **"item in æ•°ç»„**": æ•°ç»„é€šå¸¸æ˜¯**æ¥è‡ªdataæˆ–è€…prop**ï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶ä»–æ–¹å¼;

*item of æ•°ç»„ ä¹Ÿå¯ä»¥*

å¦‚æœéœ€è¦ç´¢å¼•ï¼Œå¯ä»¥ä½¿ç”¨æ ¼å¼: "(item, index) in æ•°ç»„";

```html
    <ul>
      <!-- éå†æ•°ç»„ -->
      <li v-for="(movie, index) in movies">{{index+1}}.{{movie}}</li>
    </ul>
```



### v-foræ”¯æŒçš„ç±»å‹

**v-foræ”¯æŒéå†å¯¹è±¡**

- ä¸€ä¸ªå‚æ•°: **`value in object;`**
- äºŒä¸ªå‚æ•°:**`(value, key) in object;`**
- ä¸‰ä¸ªå‚æ•°: **`(value, key, index) in object`**

```html
      <!-- éå†å¯¹è±¡ -->
      <li v-for="(value, key, index) in info">{{key}}-{{value}}-{{index}}</li>
```

**æ”¯æŒæ•°å­—çš„éå†: æ¯ä¸€ä¸ªiteméƒ½æ˜¯ä¸€ä¸ªæ•°å­—;**

```html
    <ul>
      <li v-for="(num, index) in 10">{{num}}-{{index}}</li>
    </ul>
```



#### ç»“åˆtemplateå…ƒç´ 

ä½¿ç”¨ template å…ƒç´ ä¸æ˜¯ä½¿ç”¨divæ¥å¾ªç¯æ¸²æŸ“ä¸€æ®µåŒ…å«å¤šä¸ªå…ƒç´ çš„å†…å®¹

```html
    <ul>
      <template v-for="(value, key) in info">
        <li>{{key}}</li>
        <li>{{value}}</li>
        <li class="divider">------</li>
      </template>
    </ul>
```



### æ•°ç»„æ›´æ–°æ£€æµ‹

Vue å°†**è¢«ä¾¦å¬çš„æ•°ç»„çš„å˜æ›´æ–¹æ³•è¿›è¡Œäº†åŒ…è£¹**ï¼Œæ‰€ä»¥å®ƒä»¬ä¹Ÿå°†ä¼šè§¦å‘è§†å›¾æ›´æ–°ã€‚

- **`push() pop() shift()  unshift()`**
- **`splice()  sort()  reverse()`**

 **æ›¿æ¢æ•°ç»„çš„æ–¹æ³•**

æŸäº›æ–¹æ³•ä¸ä¼šæ›¿æ¢åŸæ¥çš„æ•°ç»„ï¼Œè€Œæ˜¯ä¼šç”Ÿæˆæ–°çš„æ•°ç»„ï¼Œæ¯”å¦‚ **filter()ã€ concat() å’Œ slice()ã€‚**éœ€è¦æŠŠæ–°çš„æ•°ç»„èµ‹å€¼åˆ°åŸæ•°ç»„æ‰èƒ½è§¦å‘è§†å›¾æ›´æ–°ã€‚

### v-forä¸­çš„key

 åœ¨ä½¿ç”¨v-forè¿›è¡Œåˆ—è¡¨æ¸²æŸ“æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šç»™å…ƒç´ æˆ–è€…ç»„ä»¶ç»‘å®šä¸€ä¸ª**keyå±æ€§**ã€‚ ä¸€èˆ¬**ä¸ä½¿ç”¨index**

```html
      <li v-for="item in letters" :key="item">{{item}}</li>
```

è¿™ä¸ªkeyå±æ€§æœ‰ä»€ä¹ˆä½œç”¨å‘¢**å®˜æ–¹çš„è§£é‡Š:**

- keyå±æ€§ä¸»è¦ç”¨åœ¨Vueçš„è™šæ‹ŸDOMç®—æ³•ï¼Œåœ¨æ–°æ—§nodeså¯¹æ¯”æ—¶è¾¨è¯†VNodes;
- å¦‚æœ**ä¸ä½¿ç”¨key**ï¼ŒVueä¼šä½¿ç”¨ä¸€ç§**æœ€å¤§é™åº¦å‡å°‘åŠ¨æ€å…ƒç´ **å¹¶ä¸”**å°½å¯èƒ½çš„å°è¯•å°±åœ°ä¿®æ”¹/å¤ç”¨ç›¸åŒç±»å‹å…ƒç´ **çš„ç®—æ³•; 
- è€Œ**ä½¿ç”¨keyæ—¶**ï¼Œå®ƒä¼šåŸºäºkeyçš„å˜åŒ–**é‡æ–°æ’åˆ—å…ƒç´ é¡ºåº**ï¼Œå¹¶ä¸”**ä¼šç§»é™¤/é”€æ¯keyä¸å­˜åœ¨çš„å…ƒç´ ;**

#### VNode

Virtual Node,æ— è®ºæ˜¯ç»„ä»¶è¿˜æ˜¯å…ƒç´ ï¼Œå®ƒä»¬æœ€ç»ˆåœ¨Vueä¸­è¡¨ç¤ºå‡ºæ¥çš„éƒ½æ˜¯ä¸€ä¸ªä¸ªVNode,æœ¬è´¨æ˜¯ä¸€ä¸ª**JavaScriptçš„å¯¹è±¡;**

![image-20220613231658048](https://wsp-typora.oss-cn-hangzhou.aliyuncs.com/images/202207160427853.png)



#### è™šæ‹ŸDOM

å¦‚æœæˆ‘ä»¬ä¸åªæ˜¯ä¸€ä¸ªç®€å•çš„divï¼Œè€Œæ˜¯æœ‰ä¸€å¤§å †çš„å…ƒç´ ï¼Œé‚£ä¹ˆå®ƒä»¬åº”è¯¥ä¼šå½¢æˆä¸€ä¸ªVNode Tree:

![image-20220613231832244](https://wsp-typora.oss-cn-hangzhou.aliyuncs.com/images/202207160427662.png)



#### æ’å…¥Fçš„æ¡ˆä¾‹

ç‚¹å‡»æŒ‰é’®æ—¶ä¼šåœ¨ä¸­é—´æ’å…¥ä¸€ä¸ªf

```html
  <template id="my-app">
    <ul>
      <li v-for="item in letters" :key="item">{{item}}</li>
    </ul>
    <button @click="insertF">æ’å…¥Få…ƒç´ </button>
  </template>

  <script src="../js/vue.js"></script>
  <script>
    const App = {
      template: '#my-app',
      data() {
        return {
          letters: ['a', 'b', 'c', 'd']
        }
      },
      methods: {
        insertF() {
          this.letters.splice(2, 0, 'f')
        }
      }
    }

    Vue.createApp(App).mount('#app');
  </script>
```

æˆ‘ä»¬å¯ä»¥ç¡®å®šçš„æ˜¯ï¼Œè¿™æ¬¡æ›´æ–°å¯¹äºulå’Œbuttonæ˜¯ä¸éœ€è¦è¿›è¡Œæ›´æ–°ï¼Œéœ€è¦æ›´æ–°çš„æ˜¯æˆ‘ä»¬liçš„åˆ—è¡¨:

-  åœ¨Vueä¸­ï¼Œå¯¹äºç›¸åŒçˆ¶å…ƒç´ çš„å­å…ƒç´ èŠ‚ç‚¹å¹¶ä¸ä¼šé‡æ–°æ¸²æŸ“æ•´ä¸ªåˆ—è¡¨;
-  å› ä¸ºå¯¹äºåˆ—è¡¨ä¸­ aã€bã€cã€då®ƒä»¬éƒ½æ˜¯æ²¡æœ‰å˜åŒ–çš„;
- åœ¨æ“ä½œçœŸå®DOMçš„æ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨ä¸­é—´æ’å…¥ä¸€ä¸ªfçš„liå³å¯;

-  é‚£ä¹ˆVueä¸­å¯¹äºåˆ—è¡¨çš„æ›´æ–°ç©¶ç«Ÿæ˜¯å¦‚ä½•æ“ä½œçš„å‘¢?

- Vueäº‹å®ä¸Šä¼šå¯¹äºæœ‰keyå’Œæ²¡æœ‰keyä¼šè°ƒç”¨ä¸¤ä¸ªä¸åŒçš„æ–¹æ³•; 

  - æœ‰keyï¼Œä½¿ç”¨ **patchKeyedChildren**æ–¹æ³•;

  - æ²¡æœ‰keyï¼Œä½¿ç”¨ **patchUnkeyedChildren**æ–¹æ³•;



#### ğŸ·ï¸â€¼ï¸Diffç®—æ³•

##### patchKeyedChildren

![image-20220613234408415](https://wsp-typora.oss-cn-hangzhou.aliyuncs.com/images/202207160427695.png)

*patch æ‰“è¡¥ä¸ å¦‚æœæœ‰n1åˆ™ è¿›è¡Œæ›´æ–°æ“ä½œ å¦‚æœn1ä¸ºnull è¿›è¡ŒmountæŒ‚è½½æ“ä½œ* 

> - mount æŒ‚è½½ div->çœŸå®dom
> - unmount å¸è½½çœŸå®dom

æ­¤æ—¶diffç®—æ³•æ•ˆç‡å¹¶ä¸é«˜:

cå’Œdæ¥è¯´å®ƒä»¬äº‹å®ä¸Šå¹¶ä¸éœ€è¦æœ‰ä»»ä½•çš„æ”¹åŠ¨;

ä½†æ˜¯å› ä¸ºæˆ‘ä»¬çš„cè¢«fæ‰€ä½¿ç”¨äº†ï¼Œæ‰€æœ‰åç»­æ‰€æœ‰çš„å†…å®¹éƒ½è¦ä¸€æ¬¡è¿›è¡Œæ”¹åŠ¨ï¼Œå¹¶ä¸”æœ€åè¿›è¡Œæ–°å¢;

![image-20220613234215826](https://wsp-typora.oss-cn-hangzhou.aliyuncs.com/images/202207160427754.png)



##### patchUnkeyedChildren

![image-20220613234701502](https://wsp-typora.oss-cn-hangzhou.aliyuncs.com/images/202207160427256.png)

**ç¬¬ä¸€æ­¥çš„æ“ä½œæ˜¯ä»å¤´å¼€å§‹è¿›è¡Œéå†ã€æ¯”è¾ƒ:**

- aå’Œbæ˜¯ä¸€è‡´çš„ä¼šç»§ç»­è¿›è¡Œæ¯”è¾ƒ;
- cå’Œfå› ä¸ºkeyä¸ä¸€è‡´ï¼Œæ‰€ä»¥å°±ä¼šbreakè·³å‡ºå¾ªç¯;

![image-20220613235353385](https://wsp-typora.oss-cn-hangzhou.aliyuncs.com/images/202207160428506.png)

**ç¬¬äºŒæ­¥çš„æ“ä½œæ˜¯ä»å°¾éƒ¨å¼€å§‹è¿›è¡Œéå†ã€æ¯”è¾ƒ:**

![image-20220613235411452](https://wsp-typora.oss-cn-hangzhou.aliyuncs.com/images/202207160428043.png)

 **ç¬¬ä¸‰æ­¥æ˜¯å¦‚æœæ—§èŠ‚ç‚¹éå†å®Œæ¯•ï¼Œä½†æ˜¯ä¾ç„¶æœ‰æ–°çš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå°±æ–°å¢èŠ‚ç‚¹:**

![image-20220613235855319](https://wsp-typora.oss-cn-hangzhou.aliyuncs.com/images/202207160428145.png)

 **ç¬¬å››æ­¥æ˜¯å¦‚æœæ–°çš„èŠ‚ç‚¹éå†å®Œæ¯•ï¼Œä½†æ˜¯ä¾ç„¶æœ‰æ—§çš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå°±ç§»é™¤æ—§èŠ‚ç‚¹:**

![image-20220614000032788](https://wsp-typora.oss-cn-hangzhou.aliyuncs.com/images/202207160428767.png)

**ç¬¬äº”æ­¥æ˜¯æœ€ç‰¹è‰²çš„æƒ…å†µï¼Œä¸­é—´è¿˜æœ‰å¾ˆå¤šæœªçŸ¥çš„æˆ–è€…ä¹±åºçš„èŠ‚ç‚¹:**

![image-20220614000217761](https://wsp-typora.oss-cn-hangzhou.aliyuncs.com/images/202207160428573.png)

æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å‘ç°ï¼ŒVueåœ¨è¿›è¡Œdiffç®—æ³•çš„æ—¶å€™ï¼Œä¼šå°½é‡åˆ©ç”¨æˆ‘ä»¬çš„**key**æ¥è¿›è¡Œä¼˜åŒ–æ“ä½œ: 

- åœ¨æ²¡æœ‰keyçš„æ—¶å€™æˆ‘ä»¬çš„æ•ˆç‡æ˜¯éå¸¸ä½æ•ˆçš„;
- åœ¨è¿›è¡Œæ’å…¥æˆ–è€…é‡ç½®é¡ºåºçš„æ—¶å€™ï¼Œä¿æŒç›¸åŒçš„keyå¯ä»¥è®©diffç®—æ³•æ›´åŠ çš„é«˜æ•ˆ;



## è®¡ç®—å±æ€§ computed

```markdown
æ¨¡æ¿ä¸­å¯ä»¥ç›´æ¥é€šè¿‡**æ’å€¼è¯­æ³•**æ˜¾ç¤ºä¸€äº›**dataä¸­çš„æ•°æ®**ã€‚
ä½†æ˜¯åœ¨æŸäº›æƒ…å†µï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦å¯¹**æ•°æ®è¿›è¡Œä¸€äº›è½¬åŒ–å**å†æ˜¾ç¤ºï¼Œæˆ–è€…éœ€è¦**å°†å¤šä¸ªæ•°æ®ç»“åˆèµ·æ¥**è¿›è¡Œæ˜¾ç¤º;
æ¯”å¦‚æˆ‘ä»¬éœ€è¦å¯¹å¤šä¸ªdataæ•°æ®è¿›è¡Œè¿ç®—ã€ä¸‰å…ƒè¿ç®—ç¬¦æ¥å†³å®šç»“æœã€æ•°æ®è¿›è¡ŒæŸç§è½¬åŒ–åæ˜¾ç¤º;
	åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨è¡¨è¾¾å¼ï¼Œå¯ä»¥éå¸¸æ–¹ä¾¿çš„å®ç°ï¼Œä½†æ˜¯è®¾è®¡å®ƒä»¬çš„åˆè¡·æ˜¯ç”¨äºç®€å•çš„è¿ç®—;
		åœ¨æ¨¡æ¿ä¸­æ”¾å…¥å¤ªå¤šçš„é€»è¾‘ä¼šè®©æ¨¡æ¿è¿‡é‡å’Œéš¾ä»¥ç»´æŠ¤;
		å¹¶ä¸”å¦‚æœå¤šä¸ªåœ°æ–¹éƒ½ä½¿ç”¨åˆ°ï¼Œé‚£ä¹ˆä¼šæœ‰å¤§é‡é‡å¤çš„ä»£ç ;
æˆ‘ä»¬æœ‰æ²¡æœ‰ä»€ä¹ˆæ–¹æ³•å¯ä»¥å°†é€»è¾‘æŠ½ç¦»å‡ºå»å‘¢?
	å…¶ä¸­ä¸€ç§æ–¹å¼å°±æ˜¯å°†é€»è¾‘æŠ½å–åˆ°ä¸€ä¸ªmethodä¸­ï¼Œæ”¾åˆ°methodsçš„optionsä¸­ ä½†æ˜¯ï¼Œè¿™ç§åšæ³•æœ‰ä¸€ä¸ªç›´è§‚çš„å¼Šç«¯ï¼Œå°±æ˜¯æ‰€æœ‰çš„dataä½¿ç”¨è¿‡ç¨‹éƒ½ä¼šå˜æˆäº†ä¸€ä¸ªæ–¹æ³•çš„è°ƒç”¨
	å¦å¤–ä¸€ç§æ–¹å¼å°±æ˜¯ä½¿ç”¨**è®¡ç®—å±æ€§computed;**
```

**å¯¹äºä»»ä½•åŒ…å«å“åº”å¼æ•°æ®çš„å¤æ‚é€»è¾‘ï¼Œä½ éƒ½åº”è¯¥ä½¿ç”¨è®¡ç®—å±æ€§;**

- è®¡ç®—å±æ€§å°†è¢«æ··å…¥åˆ°ç»„ä»¶å®ä¾‹ä¸­ã€‚
- æ‰€æœ‰ getter å’Œ setter çš„ this ä¸Šä¸‹æ–‡è‡ªåŠ¨åœ°ç»‘å®šä¸ºç»„ä»¶å®ä¾‹;

è®¡ç®—å±æ€§çš„ç”¨æ³•:

**é€‰é¡¹:`computed`**

**ç±»å‹**:**`{ [key: string]: Function | { get: Function, set: Function } }`** **å‡½æ•°æˆ–è€…æ˜¯åŒ…å«get setæ–¹æ³•çš„å¯¹è±¡**

*ä¸èƒ½å’Œdataé‡Œçš„å±æ€§é‡å*

### ğŸ·ï¸è®¡ç®—å±æ€§çš„ç¼“å­˜

è®¡ç®—å±æ€§å’Œmethodsçš„å®ç°çœ‹èµ·æ¥æ˜¯å·®åˆ«æ˜¯ä¸å¤§çš„ï¼Œä½†æ˜¯è®¡ç®—å±æ€§**æœ‰ç¼“å­˜çš„ã€‚**

**è®¡ç®—å±æ€§ä¼šåŸºäºå®ƒä»¬çš„ä¾èµ–å…³ç³»è¿›è¡Œç¼“å­˜;**

- **åœ¨æ•°æ®ä¸å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè®¡ç®—å±æ€§æ˜¯ä¸éœ€è¦é‡æ–°è®¡ç®—çš„;**
- æ˜¯å¦‚æœä¾èµ–çš„æ•°æ®å‘ç”Ÿå˜åŒ–ï¼Œåœ¨ä½¿ç”¨æ—¶ï¼Œè®¡ç®—å±æ€§ä¾ç„¶ä¼šé‡æ–°è¿›è¡Œè®¡ç®—;

![image-20220614010532046](https://wsp-typora.oss-cn-hangzhou.aliyuncs.com/images/202207160428184.png)

### setterå’Œgetter

è®¡ç®—å±æ€§åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œåªéœ€è¦ä¸€ä¸ª**`getter`æ–¹æ³•**å³å¯ï¼Œå°†è®¡ç®—å±æ€§ç›´æ¥**å†™æˆä¸€ä¸ªå‡½æ•°**ã€‚

**è®¾ç½®è®¡ç®—å±æ€§çš„å€¼**ä»¥ç»™è®¡ç®—å±æ€§è®¾ç½®ä¸€ä¸ª**`setter`**çš„æ–¹æ³•;

```js
    const App = {
      template: '#my-app',
      data() {
        return {
          firstName: "Kobe",
          lastName: "Bryant"
        }
      },
      computed: {
        fullName: {	// fullNameçš„getterå’Œsetteræ–¹æ³•
          get: function() {//ç›‘å¬åˆ°firstName lastNameè¢«ä¿®æ”¹åè°ƒç”¨
            return this.firstName + " " + this.lastName;
          },
          set: function(newValue) {//ç›‘å¬åˆ°computedçš„fullNameè¢«ä¿®æ”¹å è°ƒç”¨
            console.log(newValue);
            const names = newValue.split(" ");
            this.firstName = names[0];//ä¿®æ”¹dataçš„firstName
            this.lastName = names[1];
          }
        }
      },
      methods: {
        changeFullName() {
          this.fullName = "Coder Why"; //ä¿®æ”¹computedçš„fullName 
        }
      }
    }
```



#### Vueå¦‚ä½•å¯¹setterå’Œgetterå¤„ç†

![image-20220614012303272](https://wsp-typora.oss-cn-hangzhou.aliyuncs.com/images/202207160428169.png)

### æ¡ˆä¾‹çš„å®ç°

1. æ¡ˆä¾‹ä¸€:æˆ‘ä»¬æœ‰ä¸¤ä¸ªå˜é‡:firstNameå’ŒlastNameï¼Œå¸Œæœ›å®ƒä»¬æ‹¼æ¥ä¹‹ååœ¨ç•Œé¢ä¸Šæ˜¾ç¤º;
2. æ¡ˆä¾‹äºŒ:æˆ‘ä»¬æœ‰ä¸€ä¸ªåˆ†æ•°:scoreå½“scoreå¤§äº60çš„æ—¶å€™ï¼Œåœ¨ç•Œé¢ä¸Šæ˜¾ç¤ºåŠæ ¼;  å½“scoreå°äº60çš„æ—¶å€™ï¼Œåœ¨ç•Œé¢ä¸Šæ˜¾ç¤ºä¸åŠæ ¼;
3. æ¡ˆä¾‹ä¸‰:æˆ‘ä»¬æœ‰ä¸€ä¸ªå˜é‡messageï¼Œè®°å½•ä¸€æ®µæ–‡å­—:æ¯”å¦‚Hello World å¯¹è¿™æ®µæ–‡å­—è¿›è¡Œåè½¬;

#### æ¨¡æ¿è¯­æ³•

```html
 <template id="my-app">
    <h2>{{firstName + " " + lastName}}</h2>
    <h2>{{score >= 60 ? 'åŠæ ¼': 'ä¸åŠæ ¼'}}</h2>
    <h2>{{message.split(" ").reverse().join(" ")}}</h2>
  </template>
  <script>
    const App = {
      template: '#my-app',
      data() {
        return {
          firstName: "w",
          lastName: "pithy",
          score: 80,
          message: "Hello World"
        }
      }
    }
    Vue.createApp(App).mount('#app');
  </script>
```

#### methodå®ç°

```html
  <template id="my-app">
    <h2>{{getFullName()}}</h2>
    <h2>{{getResult()}}</h2>
    <h2>{{getReverseMessage()}}</h2>
  </template>

  <script src="../js/vue.js"></script>
  <script>
    const App = {
      template: '#my-app',
      data() {
        return {
          firstName: "Kobe",
          lastName: "Bryant",
          score: 80,
          message: "Hello World"
        }
      },
      methods: {
        getFullName() {
          return this.firstName + " " + this.lastName;
        },
        getResult() {
          return this.score >= 60 ? "åŠæ ¼": "ä¸åŠæ ¼";
        },
        getReverseMessage() {
          return this.message.split(" ").reverse().join(" ");
        }
      }
    }
    Vue.createApp(App).mount('#app');
  </script>
```

#### computedå®ç°

è®¡ç®—å±æ€§çœ‹èµ·æ¥åƒæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä½†æ˜¯æˆ‘ä»¬**åœ¨ä½¿ç”¨çš„æ—¶å€™ä¸éœ€è¦åŠ ()**

å¹¶ä¸”è®¡ç®—å±æ€§æ˜¯æœ‰ç¼“å­˜çš„;

```html
  <template id="my-app">
    <h2>{{fullname}}</h2>
    <h2>{{result}}</h2>
    <h2>{{reverse}}</h2>
  </template>

  <script src="../js/vue.js"></script>
  <script>
    const App = {
      template: '#my-app',
      data() {
        return {
          firstName: "Kobe",
          lastName: "Bryant",
          score: 80,
          message: "Hello World"
        }
      },
      computed: {
        fullname(){//es6 ç›¸å½“äºfullname:function fullname(){}
          return this.firstName+this.lastName
        },
        result:function(){
          return this.score>60?'pass':'G'
        },
        reverse(){
          return this.message.split(' ').reverse().join(' ')
        }
      }
    }
    Vue.createApp(App).mount('#app');
  </script>
```



### ç»¼åˆæ¡ˆä¾‹-è´­ç‰©è½¦

style.css

```css
table {
  border: 1px solid #e9e9e9;
  border-collapse: collapse;
  border-spacing: 0;
}

th, td {
  padding: 8px 16px;
  border: 1px solid #e9e9e9;
  text-align: left;
}

th {
  background-color: #f7f7f7;
  color: #5c6b77;
  font-weight: 600;
}

.counter {
  margin: 0 5px;
}

```

index.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="./style.css">
</head>
<body>
  
  <div id="app"></div>

  <template id="my-app">
    <template v-if="books.length > 0">
      <table>
        <thead>
          <th>åºå·</th>
          <th>ä¹¦ç±åç§°</th>
          <th>å‡ºç‰ˆæ—¥æœŸ</th>
          <th>ä»·æ ¼</th>
          <th>è´­ä¹°æ•°é‡</th>
          <th>æ“ä½œ</th>
        </thead>
        <tbody>
          <tr v-for="(book, index) in books">
            <td>{{index + 1}}</td>
            <td>{{book.name}}</td>
            <td>{{book.date}}</td>
            <td>{{formatPrice(book.price)}}</td>
            <td>
              <button :disabled="book.count <= 1" @click="decrement(index)">-</button>
              <span class="counter">{{book.count}}</span>
              <button @click="increment(index)">+</button>
            </td>
            <td>
              <button @click="removeBook(index)">ç§»é™¤</button>
            </td>
          </tr>
        </tbody>
      </table>
      <h2>æ€»ä»·æ ¼: {{formatPrice(totalPrice)}}</h2>
    </template>
    <template v-else>
      <h2>è´­ç‰©è½¦ä¸ºç©º~</h2>
    </template>
  </template>

  <script src="../js/vue.js"></script>
  <script src="./index.js"></script>

</body>
</html>
```

index,js

```js
Vue.createApp({
  template: "#my-app",
  data() {
    return {
      books: [
        {
          id: 1,
          name: 'ã€Šç®—æ³•å¯¼è®ºã€‹',
          date: '2006-9',
          price: 85.00,
          count: 1
        },
        {
          id: 2,
          name: 'ã€ŠUNIXç¼–ç¨‹è‰ºæœ¯ã€‹',
          date: '2006-2',
          price: 59.00,
          count: 1
        },
        {
          id: 3,
          name: 'ã€Šç¼–ç¨‹ç ç‘ã€‹',
          date: '2008-10',
          price: 39.00,
          count: 1
        },
        {
          id: 4,
          name: 'ã€Šä»£ç å¤§å…¨ã€‹',
          date: '2006-3',
          price: 128.00,
          count: 1
        },
      ]
    }
  },
  computed: {
    // vue2: filter/map/reduce
    totalPrice() {
      let finalPrice = 0;
      for (let book of this.books) {
        finalPrice += book.count * book.price;
      }
      return finalPrice;
    },
    // Vue3ä¸æ”¯æŒè¿‡æ»¤å™¨äº†, æ¨èä¸¤ç§åšæ³•: ä½¿ç”¨è®¡ç®—å±æ€§/ä½¿ç”¨å…¨å±€çš„æ–¹æ³•
    filterBooks() {
      return this.books.map(item => {
        const newItem = Object.assign({}, item);
        newItem.price = "Â¥" + item.price;
        return newItem;
      })
    }
  },
  methods: {
    increment(index) {
      // é€šè¿‡ç´¢å¼•å€¼è·å–åˆ°å¯¹è±¡
      this.books[index].count++
    },
    decrement(index) {
      this.books[index].count--
    },
    removeBook(index) {
      this.books.splice(index, 1);
    },
    formatPrice(price) {
      return "Â¥" + price;
    }
  }
}).mount("#app");
```



## ä¾¦å¬å™¨ watch

å¼€å‘ä¸­æˆ‘ä»¬åœ¨dataè¿”å›çš„å¯¹è±¡ä¸­å®šä¹‰äº†æ•°æ®ï¼Œè¿™ä¸ªæ•°æ®é€šè¿‡**æ’å€¼è¯­æ³•**ç­‰æ–¹å¼ç»‘å®šåˆ°templateä¸­;

å½“æ•°æ®å˜åŒ–æ—¶ï¼Œtemplateä¼šè‡ªåŠ¨è¿›è¡Œæ›´æ–°æ¥æ˜¾ç¤ºæœ€æ–°çš„æ•°æ®;

ä½†æ˜¯åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›**åœ¨ä»£ç é€»è¾‘ä¸­ç›‘å¬æŸä¸ªæ•°æ®çš„å˜åŒ–ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦ç”¨ä¾¦å¬å™¨watchæ¥å®Œæˆäº†;**

ç”¨æ³•:

é€‰é¡¹:**`watch`**

ç±»å‹: **`{ [key: string]: string | Function | Object | Array}`**  **function(newVal,oldVal){} |xxx:{handler:function(){}}**

> **å¦‚æœ ç›‘å¬çš„æ˜¯å¯¹è±¡, è¢«é‡æ–°æŒ‡å‘æ–°å¯¹è±¡æ—¶,æ— æ³•è·å–oldVal**

**æ¡ˆä¾‹**

```html
  <template id="my-app">
    æ‚¨çš„é—®é¢˜: <input type="text" v-model="question">
  </template>

  <script src="../js/vue.js"></script>
  <script>
    const App = {
      template: '#my-app',
      data() {
        return {
          // ä¾¦å¬questionçš„å˜åŒ–æ—¶, å»è¿›è¡Œä¸€äº›é€»è¾‘çš„å¤„ç†(JavaScript, ç½‘ç»œè¯·æ±‚)
          question: "Hello World",
          anwser: ""
        }
      },
      watch: {
        // questionæ˜¯ä¾¦å¬çš„dataä¸­çš„å±æ€§çš„åç§°
        // newValueå˜åŒ–åçš„æ–°å€¼
        // oldValueå˜åŒ–å‰çš„æ—§å€¼
        question: function(newValue, oldValue) {
          console.log("æ–°å€¼: ", newValue, "æ—§å€¼", oldValue);
          this.queryAnswer();//ç›‘å¬åˆ°å˜åŒ–è°ƒç”¨å‡½æ•°
        }
      },
      methods: {
        queryAnswer() {
          console.log(`ä½ çš„é—®é¢˜${this.question}çš„ç­”æ¡ˆæ˜¯å“ˆå“ˆå“ˆå“ˆå“ˆ`);
          this.anwser = "";
        }
      }
    }

    Vue.createApp(App).mount('#app');
  </script>
```

### watchçš„å…¶ä»–æ–¹å¼

```js
//å­—ç¬¦ä¸²æ–¹æ³•å
b:'someMethod'
//ä¼ å…¥æ•°ç»„,ä¼šè¢«ä¸€ä¸€è°ƒç”¨
f:[
	'handler',
	hander2(){
	console.log('handler2')
	},
	{
	handler:function handler3(oldVal,newVal){
			console.log('handler3')
	}
	}
]
//Vue2æ–‡æ¡£ä¸­ä¾¦å¬å¯¹è±¡çš„å±æ€§
'info.name':handler(){
  console.log('handler4')
}
```

**$watch çš„API:**

åœ¨createdçš„ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œä½¿ç”¨ **`this.$watch`** æ¥ä¾¦å¬; 

- ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦ä¾¦å¬çš„æº;
- ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¾¦å¬çš„å›è°ƒå‡½æ•°callback;
- ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯é¢å¤–çš„å…¶ä»–é€‰é¡¹ï¼Œæ¯”å¦‚deepã€immediate;

```js
      created() {
        const unwatch = this.$watch("info", function(newInfo, oldInfo) {//å¯ä»¥ç”¨ç®­å¤´å‡½æ•°ä¸Šä¸‹æ–‡ä¸ºcreated()å‡½æ•°
          console.log(newInfo, oldInfo);
        }, {
          deep: true,
          immediate: true
        })
        // unwatch()
      }
```



### é…ç½®é€‰é¡¹

#### deep

watché‡Œé¢ä¾¦å¬çš„å±æ€§å¯¹åº”çš„ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªObject 

é»˜è®¤æƒ…å†µä¸‹ï¼Œ**watchåªæ˜¯åœ¨ä¾¦å¬Objectçš„<u>å¼•ç”¨</u>å˜åŒ–**ï¼Œå¯¹äº**å†…éƒ¨å±æ€§çš„å˜åŒ–æ˜¯ä¸ä¼šåšå‡ºå“åº”** è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªé€‰é¡¹**`deep`è¿›è¡Œæ›´æ·±å±‚çš„ä¾¦å¬;**

- å¯¹è±¡é‡Œçš„å¯¹è±¡çš„å±æ€§è¢«ä¿®æ”¹ ä¹Ÿå¯ä»¥ç›‘å¬åˆ°


#### immediate

å¸Œæœ›ä¸€å¼€å§‹çš„å°±ä¼š**ç«‹å³æ‰§è¡Œä¸€æ¬¡**,ä½¿ç”¨**`immediate`**é€‰é¡¹;

- è¿™ä¸ªæ—¶å€™æ— è®ºåé¢æ•°æ®æ˜¯å¦æœ‰å˜åŒ–ï¼Œä¾¦å¬çš„å‡½æ•°éƒ½ä¼šæœ‰é™æ‰§è¡Œä¸€æ¬¡;



```js
      watch: {
        // é»˜è®¤æƒ…å†µä¸‹æˆ‘ä»¬çš„ä¾¦å¬å™¨åªä¼šé’ˆå¯¹ç›‘å¬çš„æ•°æ®æœ¬èº«çš„æ”¹å˜(å†…éƒ¨å‘ç”Ÿçš„æ”¹å˜æ˜¯ä¸èƒ½ä¾¦å¬)
        // info(newInfo, oldInfo) {
        //   console.log("newValue:", newInfo, "oldValue:", oldInfo);
        // }
        // æ·±åº¦ä¾¦å¬/ç«‹å³æ‰§è¡Œ(ä¸€å®šä¼šæ‰§è¡Œä¸€æ¬¡)
        info: {
          handler: function(newInfo, oldInfo) {
              console.log("newValue:", newInfo, "oldValue:", oldInfo);
          },
          deep: true, // æ·±åº¦ä¾¦å¬
         	immediate: true // ç«‹å³æ‰§è¡Œ
        }
      }
```



## è¡¨å•ç»‘å®š v-model

**è¡¨å•æäº¤**æ˜¯å¼€å‘ä¸­éå¸¸å¸¸è§çš„åŠŸèƒ½ è¦æ±‚æˆ‘ä»¬å¯ä»¥åœ¨**ä»£ç é€»è¾‘ä¸­è·å–åˆ°ç”¨æˆ·æäº¤çš„æ•°æ®**ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šä½¿ç”¨**v-modelæŒ‡ä»¤**æ¥å®Œæˆ: 

- v-modelæŒ‡ä»¤å¯ä»¥åœ¨è¡¨å• **`inputã€textareaä»¥åŠselectå…ƒç´ `**ä¸Š**åˆ›å»ºåŒå‘æ•°æ®ç»‘å®š;**
- å®ƒä¼šæ ¹æ®æ§ä»¶ç±»å‹è‡ªåŠ¨é€‰å–æ­£ç¡®çš„æ–¹æ³•æ¥æ›´æ–°å…ƒç´ ;

v-model æœ¬è´¨ä¸Šæ˜¯è¯­æ³•ç³–ï¼Œå®ƒè´Ÿè´£ç›‘å¬ç”¨æˆ·çš„è¾“å…¥äº‹ä»¶æ¥æ›´æ–°æ•°æ®ï¼Œå¹¶åœ¨æŸç§æç«¯åœºæ™¯ä¸‹è¿›è¡Œä¸€äº›ç‰¹æ®Šå¤„ç†;

**v-modelçš„åŸç†**å…¶å®æ˜¯èƒŒåæœ‰ä¸¤ä¸ªæ“ä½œ:

- **v-bindç»‘å®švalueå±æ€§çš„å€¼**;
- **v-onç»‘å®šinputäº‹ä»¶ç›‘å¬**åˆ°å‡½æ•°ä¸­ï¼Œå‡½æ•°ä¼šè·å–æœ€æ–°çš„å€¼èµ‹å€¼åˆ°ç»‘å®šçš„å±æ€§ä¸­;

```html
  <template id="my-app">
    <!-- 1.v-bind valueçš„ç»‘å®š 2.ç›‘å¬inputäº‹ä»¶, æ›´æ–°messageçš„å€¼ -->
    <input type="text" :value="message" @input="message=$event.target.value">
    <h2>{{message}}</h2>
  </template>
  <script>
    const App = {
      template: '#my-app',
      data() {
        return {
          message: "Hello World"
        }
      }
    }
    Vue.createApp(App).mount('#app');
  </script>
```



### v-modelçš„åŸç†

![image-20220614132220819](https://wsp-typora.oss-cn-hangzhou.aliyuncs.com/images/202207160428512.png)



### å…¶ä»–ç»‘å®š

#### ç»‘å®štextarea

```html
    <label for="intro">
      è‡ªæˆ‘ä»‹ç»
      <textarea name="intro" id="intro" cols="30" rows="10" v-model="intro"></textarea>
    </label>
    <h2>intro: {{intro}}</h2>
```

#### ç»‘å®šcheckbox

**å•ä¸ªå‹¾é€‰æ¡†:**

- **v-modelå³ä¸ºå¸ƒå°”å€¼ã€‚**
- **æ­¤æ—¶inputçš„valueå¹¶ä¸å½±å“v-modelçš„å€¼ã€‚**

**å¤šä¸ªå¤é€‰æ¡†:** 

- å½“æ˜¯å¤šä¸ªå¤é€‰æ¡†æ—¶ï¼Œå› ä¸ºå¯ä»¥é€‰ä¸­å¤šä¸ªï¼Œ**æ‰€ä»¥å¯¹åº”çš„dataä¸­å±æ€§æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚**
- å½“é€‰ä¸­æŸä¸€ä¸ªæ—¶ï¼Œå°±ä¼šå°†inputçš„valueæ·»åŠ åˆ°æ•°ç»„ä¸­ã€‚

```html
    <label for="agree"><!-- å•é€‰æ¡†-->
      <input id="agree" type="checkbox" v-model="isAgree"> åŒæ„åè®®
    </label>
    <h2>isAgree: {{isAgree}}</h2>
```

```html
    <span>ä½ çš„çˆ±å¥½: </span>
    <label for="basketball"><!-- å¤šé€‰æ¡†-->
      <input id="basketball" type="checkbox" v-model="hobbies" value="basketball"> ç¯®çƒ
    </label>
    <label for="football">
      <input id="football" type="checkbox" v-model="hobbies" value="football"> è¶³çƒ
    </label>
    <label for="tennis">
      <input id="tennis" type="checkbox" v-model="hobbies" value="tennis"> ç½‘çƒ
    </label>
    <h2>hobbies: {{hobbies}}</h2>
```

#### ç»‘å®šradio

v-modelç»‘å®šradioï¼Œç”¨äºé€‰æ‹©å…¶ä¸­ä¸€é¡¹;

```html
    <label for="male">
      <input id="male" type="radio" v-model="gender" value="male">ç”·
    </label>
    <label for="female">
      <input id="female" type="radio" v-model="gender" value="female">å¥³
    </label>
    <h2>gender: {
```

#### ç»‘å®šselect

 **å’Œcheckboxä¸€æ ·ï¼Œselectä¹Ÿåˆ†å•é€‰å’Œå¤šé€‰ä¸¤ç§æƒ…å†µ**

**å•é€‰:åªèƒ½é€‰ä¸­ä¸€ä¸ªå€¼**

-  v-modelç»‘å®šçš„æ˜¯**ä¸€ä¸ªå€¼;**
- å½“æˆ‘ä»¬é€‰ä¸­optionä¸­çš„ä¸€ä¸ªæ—¶ï¼Œä¼šå°†å®ƒå¯¹åº”çš„**valueèµ‹å€¼åˆ°fruit**ä¸­;

```vue
    <span>å–œæ¬¢çš„æ°´æœ: </span>
    <select v-model="fruit" >
      <option value="apple">è‹¹æœ</option>
      <option value="orange">æ©˜å­</option>
      <option value="banana">é¦™è•‰</option>
    </select>
    <h2>fruit: {{fruit}}</h2>
```

 **å¤šé€‰:å¯ä»¥é€‰ä¸­å¤šä¸ªå€¼** selectåŠ ä¸Šå±æ€§multiple

- v-modelç»‘å®šçš„æ˜¯**ä¸€ä¸ªæ•°ç»„;**
-  å½“é€‰ä¸­å¤šä¸ªå€¼æ—¶ï¼Œå°±ä¼šå°†é€‰ä¸­çš„optionå¯¹åº”çš„**valueæ·»åŠ åˆ°æ•°ç»„fruit**ä¸­;

```vue
    <span>å–œæ¬¢çš„æ°´æœS: </span>
    <select v-model="fruit" multiple >
      <option value="apple">è‹¹æœ</option>
      <option value="orange">æ©˜å­</option>
      <option value="banana">é¦™è•‰</option>
    </select>
    <h2>fruit: {{fruit}}</h2>
```

### **v-modelçš„å€¼ç»‘å®š**

çœŸå®å¼€å‘ä¸­ï¼Œæˆ‘ä»¬çš„æ•°æ®å¯èƒ½æ˜¯æ¥è‡ªæœåŠ¡å™¨çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å…ˆå°†å€¼è¯·æ±‚ä¸‹æ¥ï¼Œç»‘å®šåˆ°dataè¿”å›çš„å¯¹è±¡ä¸­ï¼Œ å†é€šè¿‡**v-bindç»‘å®švalueå±æ€§çš„å€¼ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯å€¼ç»‘å®š**ã€‚



### v-modelä¿®é¥°ç¬¦

#### lazy

é»˜è®¤æƒ…å†µä¸‹ï¼Œv-modelåœ¨è¿›è¡ŒåŒå‘ç»‘å®šæ—¶ï¼Œç»‘å®šçš„æ˜¯inputäº‹ä»¶ï¼Œé‚£ä¹ˆä¼šåœ¨**æ¯æ¬¡å†…å®¹è¾“å…¥å**å°±å°†æœ€æ–°çš„å€¼å’Œç»‘å®šçš„å±æ€§è¿›è¡ŒåŒæ­¥;

å¦‚æœæˆ‘ä»¬åœ¨v-modelåè·Ÿä¸Šlazyä¿®é¥°ç¬¦ï¼Œé‚£ä¹ˆä¼š**å°†ç»‘å®šçš„äº‹ä»¶åˆ‡æ¢ä¸º change äº‹ä»¶**ï¼Œåªæœ‰åœ¨æäº¤æ—¶(æ¯”å¦‚å›è½¦) æ‰ä¼šè§¦å‘;



#### number

v-modelç»‘å®šåçš„å€¼æ€»æ˜¯stringç±»å‹ï¼Œå³ä½¿åœ¨æˆ‘ä»¬è®¾ç½®typeä¸ºnumberä¹Ÿæ˜¯stringç±»å‹;

```html
<input type="text" v-model="message">
<input type="number" v-model="message">
<!--è¾“å…¥123 msgä¾ç„¶æ˜¯stringç±»å‹ ,å³ä½¿type="number"-->
<h2>{{message}}</h2>
<button @click="showType">æŸ¥çœ‹ç±»å‹</button>
```

å¦‚æœæˆ‘ä»¬å¸Œæœ›è½¬æ¢ä¸ºæ•°å­—ç±»å‹ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ .number ä¿®é¥°ç¬¦:

```html
<input type="text" v-model.number="message">
<!--è¾“å…¥æ•°å­— msgä¼šè¢«ä¿®æ”¹æ”¹numberç±»å‹"-->
<h2>{{message}}</h2>
<button @click="showType">æŸ¥çœ‹ç±»å‹</button>
```

æˆ‘ä»¬è¿›è¡Œé€»è¾‘åˆ¤æ–­æ—¶ï¼Œå¦‚æœæ˜¯ä¸€ä¸ªstringç±»å‹ï¼Œåœ¨å¯ä»¥è½¬åŒ–çš„æƒ…å†µä¸‹ä¼šè¿›è¡Œéšå¼è½¬æ¢çš„:



#### trim

trim ä¿®é¥°ç¬¦å¯ä»¥è‡ªåŠ¨è¿‡æ»¤ç”¨æˆ·è¾“å…¥çš„é¦–å°¾ç©ºç™½å­—ç¬¦

```html
    <input type="text" v-model.trim="message">
    <button @click="showResult">æŸ¥çœ‹ç»“æœ</button>
```



### v-modelç»„ä»¶ä¸Šä½¿ç”¨

v-modelä¹Ÿå¯ä»¥ä½¿ç”¨åœ¨ç»„ä»¶ä¸Š ->ç»„ä»¶åŒ–å¼€å‘





